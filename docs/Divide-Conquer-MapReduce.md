# 分治思想——MapReduce

MapReduce 在 Google 大数据处理的三驾马车之一，另外两个时 GFS 和 Bigtable。它在倒排索引、PageRank 计算、网页分析等搜索引擎相关的技术中都有大量的应用。

尽管开发一个 MapReduce 非常高深，困难，但是用到的思想确实我们今天要讲的——分治算法思想。

## 理解分治思想

分治算法的核心就是 “分而治之”，将原始问题切割成 n 个规模较小的，且结构和原问题相似的问题，然后递归的解决的这些子问题，最后合并其结果。

这看起来就跟递归时一样的。关于递归和分治的区别，在排序的时候就讲过：**分治算法是处理问题的一种思想，递归是一种编程技巧。**实际上，分治算法大多数都比较适合用递归来实现。分治算法的递归实现中，我们一般要涉及到以下三种情况：

- 分解：将原问题拆分成多个子问题；
- 解决：递归求解各个子问题，若子问题足够小，则直接求解；
- 合并：合并各个子问题的解成原问题的解。

分治算法要解决的问题，也要符合下面这几个条件：

- 原问题与子问题的结构是相同的；
- 原问题分解成若干个子问题是可以独立求解，子问题之间是互相独立；
- 具有分解终止条件，就是说当问题足够小时，可以直接求解，而不是继续循环分解下去；
- 可以将子问题合并成原问题，并且这个操作复杂度不能太高，否则就起不到减小算法总体复杂度的效果。

## 分治算法应用场景举例

